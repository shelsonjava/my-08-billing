<DataSource
	ID="TranspCompDS"
	serverType="sql"
	tableName="transp_companies"
	qualifyColumnNames="false"
	dropExtraFields = "false">
	
	<fields>
		<field name="transp_comp_id"			type="integer"		title="transp_comp_id"		hidden="true" primaryKey="true" />
		<field name="transp_type_id"			type="text"			title="transp_type_id"/>
		<field name="name_descr"				type="text"			title="name_descr"/>
		<field name="transport_type"			type="text"			title="transport_type"/>
		<field name="loggedUserName"			type="text"			title="loggedUserName" 		hidden="true" />		
	</fields>

	<operationBindings>		

		<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TransportDMI"/>

		<!-- Add TransportCompany -->
		<operationBinding operationType="add" operationId="addTransportCompany" serverMethod="addTransportCompany">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TransportDMI"/>
        </operationBinding>
        
		<!-- TransportCompany Update -->
		<operationBinding operationType="update" operationId="updateTransportCompany" serverMethod="updateTransportCompany">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TransportDMI"/>
        </operationBinding>
        
        <!-- TransportCompany Remove -->
		<operationBinding operationType="remove" operationId="removeTransportCompany" serverMethod="removeTransportCompany">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TransportDMI"/>
        </operationBinding>
	
    	<operationBinding operationId="searchAllTransportCompanies" operationType="fetch">
    		<selectClause>   			
    			t.transp_comp_id,
				t.transp_type_id,
				t.name_descr,				
				tt.name_descr as transport_type
			</selectClause> 
			<tableClause>transp_companies t, transp_types tt</tableClause>
			<whereClause><![CDATA[
				t.transp_type_id = tt.transp_type_id
				#if($criteria.transp_type_id) and t.transp_type_id = $criteria.transp_type_id #end
				#if($criteria.name_descr) and t.name_descr like ($criteria.name_descr)||'%' #end
				]]>  
			</whereClause> 
			<orderClause>t.name_descr</orderClause>
    	</operationBinding>
    	
    	<operationBinding operationId="searchAllTransportCompsForCB" operationType="fetch">
    		<selectClause>   			
    			t.transp_comp_id,
    			t.transp_type_id,
    			t.name_descr 
			</selectClause> 
			<tableClause>transp_companies t</tableClause>	
			<whereClause>
				($defaultWhereClause)
			</whereClause>			
    	</operationBinding>
    	
    	<operationBinding operationId="searchAllTransportCompsForCBAv" operationType="fetch">
    		<selectClause>   			
    			t.transp_comp_id,
    			t.transp_type_id,
    			t.name_descr 
			</selectClause> 
			<tableClause>transp_companies t</tableClause>	
			<whereClause>
				($defaultWhereClause) and t.transp_type_id = 1000005
			</whereClause>			
    	</operationBinding>
    	
    	<operationBinding operationId="searchAllTransportCompsForCBRail" operationType="fetch">
    		<selectClause>   			
    			t.transp_comp_id,
    			t.transp_type_id,
    			t.name_descr 
			</selectClause> 
			<tableClause>transp_companies t</tableClause>	
			<whereClause>
				($defaultWhereClause) and t.transp_type_id = 1000003
			</whereClause>			
    	</operationBinding>
    	
    	<operationBinding operationId="searchAllTransportCompsForCBAvt" operationType="fetch">
    		<selectClause>   			
    			t.transp_comp_id,
    			t.transp_type_id,
    			t.name_descr 
			</selectClause> 
			<tableClause>transp_companies t</tableClause>	
			<whereClause>
				($defaultWhereClause) and t.transp_type_id = 1000004
			</whereClause>			
    	</operationBinding>
    	
    </operationBindings>	
</DataSource>