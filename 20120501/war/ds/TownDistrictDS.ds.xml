<DataSource 
	ID="TownDistrictDS" 
	serverType="sql"
	tableName="town_district" 
	qualifyColumnNames="false">
	<fields>				
	    <field name="town_district_id" 		type="integer"	title="town_district_id"		hidden="true" primaryKey="true" />
		<field name="town_id" 				type="integer"	title="town_id" 			hidden="true" />
		<field name="town_district_name"	type="text" 	title="town_district_name"/>
		<field name="town_district_type_id"	type="integer"	title="town_district_type_id" hidden="true"/>
		<field name="loggedUserName"		type="text"		title="Logged UserName"		hidden="true" />
	</fields>

	<operationBindings>
	
		<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.CommonDMI"/>

		<!-- Add City Region -->
		<operationBinding operationType="add" operationId="addTownDistrict" serverMethod="addTownDistrict">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.CommonDMI"/>
        </operationBinding>
        
		<!-- Update City Region -->
		<operationBinding operationType="update" operationId="updateTownDistrict" serverMethod="updateTownDistrict">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.CommonDMI"/>
        </operationBinding>
        
        <!-- Update City Region Status -->
		<operationBinding operationType="remove" operationId="deleteTownDistrict" serverMethod="deleteTownDistrict">
            <serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.CommonDMI"/>
        </operationBinding>
	
		<!-- Fetching City Regions - Cached  -->
		<operationBinding operationId="fetchCityRegions" operationType="fetch" serverMethod="fetchCityRegions">
    		<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.CommonDMI"/>
    	</operationBinding>    	

		<!-- FETCH -->
		<operationBinding operationId="searchFromDB" operationType="fetch">						
			<selectClause>
      			t.town_district_id,
      			t.town_id,
      			t.town_district_name
			</selectClause>
			<tableClause>
				town_district t
			</tableClause>
			<whereClause><![CDATA[ 
				1 = 1
				#if($criteria.town_id) and t.town_id = $criteria.town_id #end
				#if($criteria.town_district_name) and t.town_district_name like ($criteria.town_district_name)||'%' #end
				]]>
			</whereClause>
			<orderClause>t.town_district_id</orderClause>
		</operationBinding>	
		
		<!-- Search From DB -->
        <operationBinding operationId="searchCityRegsFromDBForCombos" operationType="fetch">
    		<selectClause>   			
    			t.town_district_id,
    			t.town_district_name
			</selectClause> 
			<tableClause>town_district t</tableClause>
			<whereClause><![CDATA[ 
				($defaultWhereClause) 
				#if($criteria.town_id) AND t.town_id = $criteria.town_id #end 
				]]>  
			</whereClause> 
			<orderClause>t.town_district_id</orderClause>
        </operationBinding>
        
        
		<!-- Search From DB -->
        <operationBinding operationId="getTowns" operationType="fetch">
    		<selectClause>   			
    			t.town_id,
    			t.town_name
			</selectClause> 
			<tableClause>towns t</tableClause>
			<whereClause><![CDATA[ 
				($defaultWhereClause) 
				]]>  
			</whereClause> 
			<orderClause>t.town_id</orderClause>
        </operationBinding>
        	
	</operationBindings>
</DataSource>