<DataSource 
		ID="FreeOfChargePhoneDS" 
		serverType="sql" 
		tableName="free_of_charge_phone"
		qualifyColumnNames="false" 
		dropExtraFields="false">
	<fields>
		<field name="phone_number_id" 	type="integer" 		title="phone_number_id" 	hidden="true" primaryKey="true" />
		<field name="phone_number" 		type="text" 		title="phone_number" />
		<field name="start_date" 		type="datetime" 	title="start_date" />
		<field name="end_date" 			type="datetime" 	title="end_date" />
		<field name="start_date_descr" 	type="text" 		title="start_date_descr" />
		<field name="end_date_descr" 	type="text" 		title="end_date_descr" />
		<field name="remark" 			type="text" 		title="remark" />
		<field name="loggedUserName" 	type="text" 		title="Logged UserName" 	hidden="true" />
	</fields>

	<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TreatmentDMI" />

	<operationBindings>
		<!-- Add -->
		<operationBinding operationType="add" operationId="addFreeOfChargePhone" serverMethod="addFreeOfChargePhone">
			<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TreatmentDMI" />
		</operationBinding>

		<!-- Update -->
		<operationBinding operationType="update" operationId="updateFreeOfChargePhone" serverMethod="updateFreeOfChargePhone">
			<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TreatmentDMI" />
		</operationBinding>

		<!-- Delete -->
		<operationBinding operationType="remove" operationId="removeFreeOfChargePhone" serverMethod="removeFreeOfChargePhone">
			<serverObject lookupStyle="new" className="com.info08.billing.callcenterbk.server.impl.dmi.TreatmentDMI" />
		</operationBinding>

		<!-- FETCH - For Correction -->
		<operationBinding operationId="searchFromDB"
			operationType="fetch">
			<selectClause>
				   t.phone_number_id
			      ,t.phone_number
			      ,t.remark
			      ,t.start_date
			      ,to_char(start_date, 'DD-MM-YYYY') as start_date_descr
			      ,t.end_date
			      ,to_char(end_date, 'DD-MM-YYYY') as end_date_descr
			</selectClause>
			<tableClause>free_of_charge_phone t</tableClause>
			<whereClause><![CDATA[
				1 = 1 
				#if($criteria.phone_number) and t.phone_number like '%'||$criteria.phone_number||'%' #end
				#if($criteria.remark) and t.remark like '%'||$criteria.remark||'%' #end
				
				#if($criteria.phone_number_id) and t.phone_number_id = $criteria.phone_number_id #end
				]]>
			</whereClause>
			<orderClause>t.start_date desc</orderClause>
		</operationBinding>

	</operationBindings>
</DataSource>