<DataSource
	ID="BillingCompsIndDS"
	serverType="sql"
	tableName="BILLING_COMPANIES_IND"
	qualifyColumnNames="false"
	dropExtraFields = "false">
	<fields>
		<field name="bill_index_id"					type="integer"		title="bill_index_id"				hidden="true" primaryKey="true" />
		<field name="applied_wholly"				type="integer"		title="cr"					hidden="true"/>
		<field name="calcul_type"					type="integer"		title="calcul_type"			hidden="true"/>
		<field name="calcul_type_descr"				type="text"			title="calcul_type_descr"/>
		<field name="applied_wholly_descr"			type="text"			title="cr_descr"/>
		<field name="bill_index_start"				type="integer"		title="bill_index_start"/>
		<field name="bill_index_end"				type="integer"		title="end_ind"/>
		<field name="billing_company_id"			type="integer"		title="billing_company_id"			hidden="true"/>
		<field name="loggedUserName"				type="text"			title="loggedUserName"		hidden="true"/>
	</fields>

	<operationBindings>		

    	<operationBinding operationId="searchAllBillingCompInds" operationType="fetch">
    		<selectClause>   			
    			  	t.bill_index_id,
					t.applied_wholly,
					t.bill_index_end,
					t.bill_index_start,
					t.billing_company_id,
					decode(t.applied_wholly, 0, 'ნაწილი', 'მთლიანი') as applied_wholly_descr,
					t.calcul_type,
					decode(t.calcul_type, 1, 'ზარებით', 'დარიცხვებით') as calcul_type_descr
			</selectClause> 
			<tableClause>BILLING_COMPANIES_IND t</tableClause>
			<whereClause><![CDATA[
				 1 = 1
				 #if($criteria.billing_company_id) and t.billing_company_id = $criteria.billing_company_id #end				 
				]]>  
			</whereClause> 
			<orderClause>t.bill_index_id</orderClause>
    	</operationBinding>
    	
    </operationBindings>	
</DataSource>