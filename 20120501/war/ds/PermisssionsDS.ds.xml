<DataSource 
	ID="PermisssionsDS"
    serverType="sql"
    tableName="permissions"      
    qualifyColumnNames="false">
	<fields>
		<field name="permission_id" 		type="integer"	title="ID"	hidden="true" 	primaryKey="true" />
    	<field name="permission_name" 		type="text" 	title="Access Name"/>
        <field name="is_permission_group"		type="integer"  title="Is Main Perm" hidden="true"/>        
	</fields>

	<operationBindings>
        <operationBinding operationId="searchUser" operationType="fetch" customFields="permission_id,permission_name,is_permission_group">
            <selectClause>
				t.permission_id,
				t.permission_name,
				t.is_permission_group
			</selectClause>
			<tableClause>
				permissions t
			</tableClause>
			<whereClause><![CDATA[ 
					1 = 1
				]]>
			</whereClause>		
			<orderClause>t.permission_id</orderClause>	
        </operationBinding>
          <!-- Custom User Permissions Search -->
        <operationBinding operationId="userPermissionSearch"  operationType="fetch" customFields="permission_id, permission_name">
            <selectClause>
				pa.permission_id,
				pa.permission_name,
				pa.is_permission_group
			</selectClause>
			<tableClause>
				user_permission t,
				permissions pa
			</tableClause>
			<whereClause><![CDATA[ 
					t.permission_id = pa.permission_id 
					#if ($criteria.user_id) AND t.user_id = $criteria.user_id #end
				]]>
			</whereClause>
			<orderClause>pa.permission_id</orderClause>			
        </operationBinding>
    </operationBindings>
</DataSource>